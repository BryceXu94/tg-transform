"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.htmlParser=void 0;const tslib_1=require("tslib"),webparser_1=require("@starptech/webparser"),hast_util_from_webparser_1=tslib_1.__importDefault(require("@starptech/hast-util-from-webparser")),prettyhtml_hast_to_html_1=tslib_1.__importDefault(require("@starptech/prettyhtml-hast-to-html"));class HtmlParser{parser=new webparser_1.HtmlParser;parse(e){var t=(0,hast_util_from_webparser_1.default)(this.parser.parse(e,"").rootNodes);let s=!1;return this.traverse(t,{enter(e){const{type:t,tagName:r}=e;t&&r&&"element"===t&&0===r.indexOf("el-")&&(e.tagName=e.tagName.replace(/^el-/,"tg-"),s=!0)}}),s?{code:(0,prettyhtml_hast_to_html_1.default)(t),parsed:s}:{code:e,parsed:s}}traverse(e,t){const r=t["enter"];r?.(e),e?.children?.length&&r&&e.children.forEach(e=>{this.traverse(e,{enter:r})})}}exports.htmlParser=new HtmlParser;